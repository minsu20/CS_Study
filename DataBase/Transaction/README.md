# 트랜잭션

트랜잭션은 데이터베이스에서 수행하는 한 단위의 작업을 의미한다.  

## 특징 (ACID)
- **Atomicity(원자성)**: 트랜잭션 내의 모든 작업은 완전히 수행되거나, 또는 전혀 수행되지 않아야 한다.
- **Consistency(일관성)**: 트랜잭션은 데이터베이스의 일관성을 유지해야 한다.
- **Isolation(독립성)**: 각각의 트랜잭션은 서로 독립적으로 실행되어야 한다.
- **Durability(지속성)**: 성공적으로 완료된 트랜잭션의 결과는 영구적으로 반영되어야 한다.

## Rollback, Commit 연산

- **Commit**: 트랜잭션이 성공적으로 완료되었음을 알리는 연산으로 해당 트랜잭션의 변경 사항이 데이터베이스에 영구적으로 저장되었음을 의미한다.
- **Rollback**: 트랜잭션 수행 중 오류 발생 시, 이전 상태로 되돌리는 연산이다.

<br/>
 
# 트랜잭션 격리 수준 (Transaction Isolation Levels)

##  READ UNCOMMITTED (커밋되지 않은 읽기)

>  한 트랜잭션이 아직 커밋되지 않은 변경을 다른 트랜잭션이 읽을 수 있기 때문에, 원치 않는 결과가 발생할 수 있다.  
> 예를 들어, 한 트랜잭션이 다른 트랜잭션의 아직 확정되지 않은 변경을 읽고, 그에 따라 작업을 수행하게 될 경우,  
> 원본 트랜잭션이 롤백되면 이후의 모든 작업은 무효가 된다.

   - 다른 트랜잭션의 커밋되지 않은 데이터를 읽을 수 있음
   - 가장 낮은 격리 수준이며 성능이 가장 빠름
   - 발생 가능한 문제점
     - Dirty Read
     - Non-Repeatable Read
     - Phantom Read

## READ COMMITTED (커밋된 읽기)

> 한 트랜잭션 내에서 같은 쿼리를 여러 번 실행하게 되면, 한 번의 쿼리 사이에  
> 다른 트랜잭션이 커밋한 변경사항을 반영하기 때문에, 동일한 쿼리의 결과가 달라질 수 있다.
   - 다른 트랜잭션의 커밋된 데이터만 읽을 수 있음
   - 가장 많이 사용되는 격리 수준 (예: Oracle의 기본 격리 수준)
   - 발생 가능한 문제점
       - Non-Repeatable Read
       - Phantom Read  

## REPEATABLE READ (반복 가능한 읽기)
> 한 트랜잭션 내에서 레코드를 여러 번 읽었을 때,  
> 첫 번째 쿼리 이후에 다른 트랜잭션이 삽입 또는 삭제한 레코드 때문에 결과가 달라질 수 있다.
   - 같은 데이터를 여러 번 읽었을 때 항상 같은 결과를 반환함
   - 행이 추가되는 것을 막지 않음 (예: MySQL의 기본 격리 수준)
   - 발생 가능한 문제점
       - Phantom Read  

     
###  SERIALIZABLE (직렬화 가능)
   - 다른 트랜잭션은 사용 중인 테이블의 모든 행에 접근할 수 없음
   - 가장 높은 격리 수준이며 성능이 가장 느림
   - 발생 가능한 문제점: 없음


### 발생할 수 있는 문제점 설명

- Dirty Read
  - 한 트랜잭션에서 아직 커밋되지 않은 변경을 다른 트랜잭션이 읽는 문제

- Non-Repeatable Read
   - 한 트랜잭션 내에서 같은 쿼리를 여러 번 실행했을 때 결과가 다르게 나오는 문제

- Phantom Read
   - 한 트랜잭션 내에서 레코드를 여러 번 읽었을 때 처음 쿼리 이후에 삽입 또는 삭제된 레코드 때문에 결과가 다르게 나오는 문제

